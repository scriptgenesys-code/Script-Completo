<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Finalizar Cliente v27.0 - Ranking</title>
    <style>
        body {
            background-color: #0f0f1a;
            color: #fff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            user-select: none;
            touch-action: none;
        }
        
        /* ANIMA√á√ïES GERAIS */
        .shake { animation: shakeAnim 0.4s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shakeAnim {
            10%, 90% { transform: translate3d(-2px, 0, 0); }
            20%, 80% { transform: translate3d(4px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-6px, 0, 0); }
            40%, 60% { transform: translate3d(6px, 0, 0); }
        }
        
        .flash-white { animation: flashWhite 0.5s; }
        @keyframes flashWhite { 0% { background-color: white; } 100% { background-color: #0f0f1a; } }

        canvas {
            border: 4px solid #fff;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            cursor: crosshair;
            background-color: #000;
            max-width: 100%; max-height: 100vh;
        }
        
        /* HUD SUPERIOR */
        #hud-top {
            position: absolute; top: 10px; left: 50%; transform: translateX(-50%); 
            width: 95%; max-width: 1000px;
            display: flex; justify-content: center; align-items: center; 
            pointer-events: none; z-index: 20;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            gap: 10px; flex-wrap: wrap;
        }
        
        .hud-panel {
            background: linear-gradient(180deg, rgba(50,50,50,0.95), rgba(20,20,20,0.95));
            padding: 5px 15px; border-radius: 8px; border: 1px solid #666;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            display: flex; flex-direction: column; align-items: center; 
            min-width: 70px; flex-shrink: 0;  
        }
        .label-small { font-size: 10px; color: #bbb; text-transform: uppercase; margin-bottom: 2px; font-weight: bold; }
        .value-large { font-size: 16px; font-weight: 900; color: #fff; white-space: nowrap; }

        .bar-group { display: flex; flex-direction: column; gap: 2px; }
        .bar-container {
            width: 120px; height: 14px; background: #222;
            border: 1px solid #666; border-radius: 10px;
            position: relative; overflow: hidden;
        }
        #finance-bar { width: 50%; height: 100%; background: linear-gradient(90deg, #d32f2f, #fdd835, #4caf50); transition: width 0.3s; }
        #xp-bar { width: 0%; height: 100%; background: linear-gradient(90deg, #00acc1, #26c6da, #80deea); transition: width 0.2s; }
        #ult-bar { width: 0%; height: 100%; background: linear-gradient(90deg, #304ffe, #536dfe); transition: width 0.2s; box-shadow: 0 0 10px #304ffe; }
        .bar-text { position: absolute; width: 100%; text-align: center; top: 0px; font-size: 8px; font-weight: bold; color: white; text-transform: uppercase; line-height: 14px; }

        /* POPUPS E TELAS */
        #achievePopup {
            position: absolute; top: -100px; left: 50%; transform: translateX(-50%);
            background: linear-gradient(45deg, #FFD700, #FFA500);
            padding: 15px 30px; border-radius: 30px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
            z-index: 100; transition: top 0.5s; pointer-events: none;
            text-align: center; border: 3px solid #fff;
        }
        #achieveTitle { font-weight: 900; font-size: 18px; color: #fff; text-shadow: 1px 1px 0 #000; text-transform: uppercase; }
        #achieveDesc { font-size: 12px; color: #000; font-weight: bold; }

        #mobileControls { display: none; pointer-events: none; position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 30; }
        .joystick-area { position: absolute; bottom: 30px; left: 30px; width: 120px; height: 120px; background: rgba(255,255,255,0.1); border-radius: 50%; pointer-events: auto; border: 2px solid rgba(255,255,255,0.3); }
        .joystick-stick { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 50px; height: 50px; background: rgba(0, 230, 118, 0.5); border-radius: 50%; box-shadow: 0 0 10px #00e676; pointer-events: none; transition: 0.1s; }
        .ult-btn-mobile { position: absolute; bottom: 40px; right: 30px; width: 80px; height: 80px; background: rgba(48, 79, 254, 0.6); border-radius: 50%; border: 4px solid #fff; color: white; font-size: 40px; display: flex; align-items: center; justify-content: center; pointer-events: auto; cursor: pointer; box-shadow: 0 0 15px #304ffe; }
        .ult-btn-mobile.disabled { opacity: 0.3; filter: grayscale(1); }

        @media (max-width: 768px) {
            #mobileControls { display: block; }
            #startScreen h1 { font-size: 40px; }
            .tutorial-container { grid-template-columns: repeat(2, 1fr); padding: 10px; }
            .bar-container { width: 80px; }
        }

        #muteBtn { position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.5); border: 2px solid #555; color: white; font-size: 24px; padding: 10px; border-radius: 50%; cursor: pointer; z-index: 100; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        #muteBtn:hover { transform: scale(1.1); }
        
        #boss-hud { display: none; position: absolute; top: 80px; width: 60%; max-width: 600px; height: 15px; background: #111; border: 2px solid #f00; border-radius: 10px; z-index: 15; pointer-events: none; }
        #boss-hp-bar { width: 100%; height: 100%; background: linear-gradient(90deg, #800000, #ff0000); transition: width 0.1s; }

        #gameOverScreen, #winScreen, #startScreen, #shopScreen, #skinScreen, #pauseScreen, #rankingScreen { 
            position: absolute; background: rgba(15, 15, 26, 0.98); width: 100%; height: 100%; 
            flex-direction: column; align-items: center; justify-content: center; z-index: 50; display: none; 
        }
        #startScreen { display: flex; }
        #pauseScreen { background: rgba(0, 0, 0, 0.7); z-index: 100; }

        #startScreen h1 { background: linear-gradient(to right, #4caf50, #2196f3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-transform: uppercase; letter-spacing: 5px; text-align: center; }
        .tutorial-container { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; background: rgba(30, 32, 40, 0.95); border: 1px solid #444; border-radius: 20px; padding: 25px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); max-width: 700px; }
        .t-item { display: flex; flex-direction: column; align-items: center; text-align: center; }
        .t-icon { font-size: 28px; margin-bottom: 5px; } .t-title { font-weight: 900; font-size: 11px; text-transform: uppercase; } .t-desc { font-size: 10px; color: #bbb; }
        .color-green { color: #4caf50; } .color-red { color: #ff5252; } .color-blue { color: #2196f3; } .color-gold { color: #ffd700; } .color-pink { color: #e91e63; } .color-white { color: #ffffff; }

        .skin-grid { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; max-width: 800px; margin-top: 20px; }
        .skin-card { background: #222; border: 2px solid #555; padding: 10px; border-radius: 10px; width: 100px; text-align: center; cursor: pointer; transition: 0.2s; }
        .skin-card:hover { transform: scale(1.05); border-color: #fff; }
        .skin-card.selected { border-color: #00e676; box-shadow: 0 0 10px #00e676; }
        .skin-preview { width: 30px; height: 30px; margin: 0 auto 5px; border-radius: 5px; }
        .shop-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-bottom: 30px; max-width: 900px; }
        .shop-item { background: linear-gradient(180deg, #222, #111); border: 2px solid #555; padding: 15px; border-radius: 15px; text-align: center; width: 140px; cursor: pointer; transition: 0.2s; }
        .shop-item:hover { transform: scale(1.05); border-color: #ffd700; }
        .purchased { border-color: #4caf50; opacity: 0.5; pointer-events: none; }

        #comboEl { position: absolute; top: 100px; right: 20px; font-size: 40px; font-weight: 900; color: #ffd700; transform: rotate(-10deg); text-shadow: 3px 3px 0 #000; opacity: 0; pointer-events: none; z-index: 15; }
        .combo-active { opacity: 1 !important; animation: pulse 0.3s infinite alternate; }

        button { padding: 15px 40px; font-size: 20px; background: linear-gradient(45deg, #2196f3, #21cbf3); color: #fff; border: none; border-radius: 30px; margin-top: 10px; font-weight: 900; cursor: pointer; box-shadow: 0 0 20px rgba(33, 203, 243, 0.4); transition: 0.2s; text-transform: uppercase; }
        button:hover { transform: scale(1.1); }
        button.secondary { background: #444; font-size: 16px; padding: 10px 20px; box-shadow: none; }
        
        .float-text { position: absolute; font-weight: 900; animation: floatUp 0.8s forwards; pointer-events: none; z-index: 30; -webkit-text-stroke: 1px black; font-family: Arial, sans-serif; font-size: 20px; }
        @keyframes floatUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-50px); opacity: 0; } }
        @keyframes pulse { 0% { transform: scale(1) rotate(-10deg); } 100% { transform: scale(1.2) rotate(-10deg); } }
        .damage-flash { animation: redFlash 0.2s; }
        @keyframes redFlash { 0% { box-shadow: inset 0 0 0 0 red; } 50% { box-shadow: inset 0 0 100px 50px rgba(255,0,0,0.5); } }
        .slow-motion-effect { animation: blueFlash 2s infinite alternate; }
        @keyframes blueFlash { 0% { box-shadow: inset 0 0 20px rgba(0, 200, 255, 0.2); } 100% { box-shadow: inset 0 0 80px rgba(0, 200, 255, 0.5); } }

        /* ESTILO DO RANKING */
        #rankingTable {
            width: 80%; max-width: 600px;
            border-collapse: collapse; margin-bottom: 20px;
            background: rgba(0,0,0,0.5); border-radius: 10px; overflow: hidden;
        }
        #rankingTable th, #rankingTable td { padding: 12px; text-align: left; border-bottom: 1px solid #444; }
        #rankingTable th { background: linear-gradient(90deg, #222, #333); color: #ffd700; text-transform: uppercase; }
        #rankingTable tr:nth-child(even) { background: rgba(255,255,255,0.05); }
        #rankingTable tr:first-child td { color: #ffd700; font-weight: bold; } /* 1¬∫ Lugar Ouro */
        #rankingTable tr:nth-child(2) td { color: #c0c0c0; } /* 2¬∫ Lugar Prata */
        #rankingTable tr:nth-child(3) td { color: #cd7f32; } /* 3¬∫ Lugar Bronze */

        .input-group { margin: 20px 0; display: flex; gap: 10px; }
        #playerNameInput {
            padding: 15px; border-radius: 8px; border: 2px solid #444;
            background: #222; color: white; font-size: 18px; outline: none; text-align: center;
            text-transform: uppercase; width: 250px;
        }
        #playerNameInput:focus { border-color: #2196f3; box-shadow: 0 0 10px #2196f3; }

    </style>
</head>
<body>

    <div id="muteBtn">üîä</div>
    <div id="achievePopup"><div id="achieveTitle">üèÜ CONQUISTA!</div><div id="achieveDesc">Descri√ß√£o aqui</div></div>

    <div id="hud-top">
        <div class="hud-panel"><span class="label-small">N√≠vel</span><span id="levelEl" class="value-large" style="color: cyan;">1/25</span></div>
        <div class="bar-group">
            <div class="bar-container"><div id="xp-bar"></div><div class="bar-text">Promo√ß√£o</div></div>
            <div class="bar-container"><div id="finance-bar"></div><div class="bar-text">Caixa</div></div>
            <div class="bar-container"><div id="ult-bar"></div><div class="bar-text">ULTIMATE (SHIFT)</div></div>
        </div>
        <div class="hud-panel"><span class="label-small">Saldo</span><span id="scoreEl" class="value-large" style="color:#4caf50;">R$ 0,00</span></div>
        <div class="hud-panel"><span class="label-small">Recorde</span><span id="highScoreEl" class="value-large" style="color:#ffd700;">R$ 0,00</span></div>
    </div>
    
    <div id="comboEl">x1</div>
    <div id="boss-hud"><div id="boss-hp-bar"></div></div>

    <div id="mobileControls">
        <div class="joystick-area" id="joystick"><div class="joystick-stick" id="stick"></div></div>
        <div class="ult-btn-mobile disabled" id="mobileUltBtn">‚ö°</div>
    </div>

    <div id="pauseScreen"><h1>PAUSADO</h1><h3>[ESPA√áO] para voltar</h3></div>

    <div id="startScreen">
        <h1 style="text-shadow: 0 0 20px rgba(76, 175, 80, 0.5);">FINALIZAR CLIENTE</h1>
        <h3>CAPITALISMO SELVAGEM</h3>
        <div class="tutorial-container">
            <div class="t-item"><div class="t-icon">üí∞</div><div class="t-title color-green">VENDA</div><div class="t-desc">Ganhe comiss√£o</div></div>
            <div class="t-item"><div class="t-icon">üò°</div><div class="t-title color-red">PROCON</div><div class="t-desc">GAME OVER</div></div>
            <div class="t-item"><div class="t-icon">üíé</div><div class="t-title color-blue">VIP</div><div class="t-desc">3 Cliques</div></div>
            <div class="t-item"><div class="t-icon">üî•</div><div class="t-title color-gold">COMBO</div><div class="t-desc">Acertos seguidos</div></div>
            <div class="t-item"><div class="t-icon">üî´</div><div class="t-title color-blue">INIMIGOS</div><div class="t-desc">Atiram em voc√™</div></div>
            <div class="t-item"><div class="t-icon">ü§Ø</div><div class="t-title color-pink">PUXA-SACO</div><div class="t-desc">R√°pido. 2 Tiros.</div></div>
            <div class="t-item"><div class="t-icon">‚ò†Ô∏è</div><div class="t-title color-white">CHEFE</div><div class="t-desc">Tira 10% do Saldo!</div></div>
            <div class="t-item"><div class="t-icon">üõí</div><div class="t-title color-green">LOJA</div><div class="t-desc">Prote√ß√£o & Poder</div></div>
        </div>
        <div style="display:flex; gap:15px; margin-top: 10px;">
            <button id="btnStartGame">INICIAR CARREIRA</button>
            <button class="secondary" id="btnShowRanking" style="background:#ffd700; color:#000;">üèÜ RANKING</button>
        </div>
        <button class="secondary" id="btnOpenSkins" style="margin-top:10px;">VESTI√ÅRIO</button>
    </div>

    <div id="rankingScreen">
        <h1 style="color:#ffd700; text-shadow:0 0 20px orange;">üèÜ TOP 10 CONSULTORES</h1>
        <table id="rankingTable">
            <thead>
                <tr>
                    <th width="10%">#</th>
                    <th width="50%">NOME</th>
                    <th width="40%">FORTUNA ACUMULADA</th>
                </tr>
            </thead>
            <tbody id="rankingBody"></tbody>
        </table>
        <button onclick="backToMenu()">VOLTAR</button>
    </div>

    <div id="skinScreen"><h1>SEU GUARDA-ROUPA</h1><h3 id="skinWallet" style="color:#ffd700">Saldo: R$ 0,00</h3><div class="skin-grid" id="skinList"></div><button id="btnBackMenu">VOLTAR</button></div>

    <div id="shopScreen"><h1>LOJA DA EMPRESA</h1><h3 style="color:#aaa;">Gaste o seu saldo com sabedoria!</h3><h2 id="shopBalance" style="color:#4caf50;">Saldo: R$ 0,00</h2><div class="shop-container">
            <div class="shop-item" id="btnBuySpeed"><div class="shop-icon">üëü</div><div style="font-weight:bold; color:white;">Sapatos Leves</div><div class="shop-desc">+10% Velocidade</div><div class="shop-price">R$ 50,00</div></div>
            <div class="shop-item" id="btnBuyCoffee"><div class="shop-icon">‚òï</div><div style="font-weight:bold; color:white;">Garrafa T√©rmica</div><div class="shop-desc">+2s Slow Motion</div><div class="shop-price">R$ 75,00</div></div>
            <div class="shop-item" id="btnBuyHealth"><div class="shop-icon">üíä</div><div style="font-weight:bold; color:white;">Terapia</div><div class="shop-desc">Recupera R$ 20</div><div class="shop-price">R$ 40,00</div></div>
            <div class="shop-item" id="btnShield"><div class="shop-icon">üõ°Ô∏è</div><div style="font-weight:bold; color:white;">Escudo Jur√≠dico</div><div class="shop-desc">Bloqueia 1 Dano</div><div class="shop-price">R$ 100,00</div></div>
            <div class="shop-item" id="btnBuyPower"><div class="shop-icon">üñäÔ∏è</div><div style="font-weight:bold; color:white;">Caneta de Ouro</div><div class="shop-desc">+1 Dano no Clique</div><div class="shop-price">R$ 150,00</div></div>
        </div><button id="btnCloseShop">PR√ìXIMO N√çVEL</button></div>

    <div id="gameOverScreen">
        <h1 id="goTitle" style="color: #ff5252; font-size: 50px;">FIM DE JOGO</h1>
        <h3 id="goReason" style="color: #aaa;">Motivo...</h3>
        <h2 id="finalScore" style="color: #fff;"></h2>
        <h4 id="newRecordMsg" style="color: #ffd700; display:none;">NOVO RECORDE PESSOAL!</h4>
        
        <div class="input-group">
            <input type="text" id="playerNameInput" placeholder="SEU NOME" maxlength="12">
            <button id="btnSaveRecord" class="secondary" style="background:#4caf50; margin:0;">SALVAR</button>
        </div>

        <button id="btnResetGame">MENU PRINCIPAL</button>
    </div>

    <div id="winScreen"><h1 style="color: #ffd700; font-size: 50px;">PARAB√âNS, CEO!</h1><h3 style="color: #fff;">Voc√™ completou os 25 n√≠veis.</h3><h2 id="winScore" style="color: #4caf50;"></h2><button id="btnResetWin">MENU PRINCIPAL</button></div>

    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script src="game.js"></script>
</body>
</html>
