<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Genesys Admin</title>
</head>
<body class="popup-body-mode">
    
    <div id="login-screen">
        <div class="login-card">
            <div class="login-icon">ğŸ“Š</div>
            <h2>Genesys Admin</h2>
            <input type="text" id="login-user" placeholder="UsuÃ¡rio" autofocus>
            <input type="password" id="login-pass" placeholder="Senha">
            <button id="btn-login">Entrar</button>
            <p id="login-msg"></p>
        </div>
    </div>

    <div id="app-content" style="display: none;">
        <div class="top-bar">
            <div class="logo-area">
                <span style="font-size:18px;">ğŸ“Š</span> Genesys Admin
            </div>
            <div class="actions-area">
                <button id="btn-modulos" title="Configurar Ferramentas">ğŸ§© MÃ³dulos</button>
                <button id="btn-popout" title="Abrir em Janela">â†—ï¸</button>
                <button id="btn-gestao" class="btn-gold" style="display:none;">ğŸ”‘ GestÃ£o</button>
                <button id="btn-logout" class="btn-red">Sair</button>
            </div>
        </div>

        <div class="control-panel">
            <div class="filter-row">
                <div class="input-group">
                    <label>De:</label>
                    <input type="date" id="data-inicio">
                </div>
                <div class="input-group">
                    <label>AtÃ©:</label>
                    <input type="date" id="data-fim">
                </div>
                <button id="btn-search-manual" class="btn-search" title="Pesquisar">ğŸ”</button>
                <button id="btn-export" class="btn-export" title="Baixar RelatÃ³rio JSON">ğŸ“¥</button>
            </div>

            <div class="agent-selector-row">
                <select id="filtro-agente">
                    <option value="todos">ğŸ‘¥ Todos os Agentes</option>
                </select>
            </div>

            <div class="status-row">
                <span>Status do Sistema:</span>
                <span style="color:#10b981; margin-left:5px;">Online â—</span>
                <button id="btn-refresh" style="margin-left:auto;" title="Atualizar Dados">ğŸ”„</button>
            </div>
        </div>

        <div class="kpi-grid">
            <div class="kpi-card blue clickable" id="card-logados">
                <span class="lbl">Logados</span>
                <strong id="total-logados">0</strong>
            </div>
            <div class="kpi-card green clickable" id="card-atendimentos">
                <span class="lbl">Atendimentos</span>
                <strong id="total-conversas">0</strong>
            </div>
            <div class="kpi-card red clickable" id="card-encerrados">
                <span class="lbl">Encerrados</span>
                <strong id="total-encerrados">0</strong>
            </div>
            <div class="kpi-card orange clickable" id="card-tma">
                <span class="lbl">TMA Geral</span>
                <strong id="media-tma">00:00</strong>
            </div>
        </div>

        <div id="view-geral">
            <div class="section-box">
                <h3 class="section-title">ğŸ† Top Produtividade</h3>
                <div id="chart-container" class="chart-list">
                    <div class="loading">Carregando grÃ¡fico...</div>
                </div>
            </div>
            <div class="search-footer">
                <span class="search-icon">ğŸ”</span>
                <input type="text" id="search-list" placeholder="Buscar na lista...">
            </div>
            <div id="lista-agentes-container" class="lista-scroll"></div>
        </div>

        <div id="view-individual" style="display: none;">
            <h3 id="titulo-agente-selecionado" class="agent-title">Nome do Agente</h3>

            <div class="detail-container green-theme">
                <div class="detail-header">
                    âœ… Atendimentos Realizados (<span id="count-atendimentos">0</span>)
                </div>
                <div id="lista-individual-atendimentos" class="detail-list"></div>
            </div>

            <div class="detail-container red-theme">
                <div class="detail-header">
                    â›” Encerrados Manualmente (<span id="count-encerrados">0</span>)
                </div>
                <div id="lista-individual-encerrados" class="detail-list"></div>
            </div>
        </div>
    </div>

    <div id="modal-detalhes" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h3 id="modal-titulo">Detalhes</h3><span class="close-modal">&times;</span></div>
            <div id="modal-lista-container" class="modal-body list-body"></div>
        </div>
    </div>

    <div id="modal-modulos" class="modal">
        <div class="modal-content small-modal">
            <div class="modal-header"><h3>ğŸ§© MÃ³dulos</h3><span class="close-modal">&times;</span></div>
            <div class="modal-body">
                <div class="module-item"><label>â±ï¸ CronÃ´metros</label><input type="checkbox" id="mod-cronometros"></div>
                <div class="module-item"><label>â˜• Pausas</label><input type="checkbox" id="mod-pausas"></div>
                <div class="module-item"><label>ğŸ“‹ Protocolos</label><input type="checkbox" id="mod-protocolos"></div>
                <div class="module-item"><label>ğŸ’¬ Respostas</label><input type="checkbox" id="mod-respostas"></div>
                <div class="module-item"><label>ğŸ’» BaÃº (Diag)</label><input type="checkbox" id="mod-bar"></div>
                <div class="module-item"><label>ğŸ¤– Assistente IA</label><input type="checkbox" id="mod-ia"></div>
                <div class="module-item"><label>ğŸ†” Copiar ID</label><input type="checkbox" id="mod-id"></div>
                <div class="module-item"><label>ğŸ” Menu Float</label><input type="checkbox" id="mod-menu"></div>
                <button id="btn-save-modules" style="margin-top:15px;">Salvar ConfiguraÃ§Ã£o</button>
            </div>
        </div>
    </div>

    <div id="modal-gestao" class="modal">
        <div class="modal-content small-modal">
            <div class="modal-header gold-header"><h3>ğŸ”‘ GestÃ£o</h3><span class="close-modal">&times;</span></div>
            <div class="modal-body">
                <select id="gestao-user-select" style="margin-bottom:10px;"></select>
                <input type="text" id="gestao-new-pass" placeholder="Nova senha">
                <button id="btn-save-pass">Salvar</button>
                <p id="gestao-msg"></p>
            </div>
        </div>
    </div>

    <script src="compatibility.js"></script>
    <script src="popup.js"></script>
</body>
</html>
